\documentclass[letterpaper,12pt]{article}

\usepackage[top=1in, bottom=1in, left=0.8in, right=0.8in]{geometry}
\usepackage{tabularx}
\usepackage{amssymb}
\usepackage{pdfpages}
\usepackage{url}

\begin{document}

\title{Affinity Matrix Constructions}
\author{Lay Kuan Loh}
\date{\today}
\maketitle


First Try
\begin{enumerate}
    \item Given $n$ seismograms, called $s_1,\,s_2,\cdots,s_n$, each of which has $m$ datapoints in it, we want to correlate each interval along the seismograms with the rest of them, with intervals of, for instance, 60 seconds each. So, numbering the datapoints in $s_i$ by $\{t_1,\,t_2,\ldots,t_m\}$, we can choose groups of $\{t^i_1,\cdots,t^i_{60}\},\{t^i_{61},\cdots,t^i_{120}\},\ldots,\{t^i_{60\lfloor\frac{m}{60}\rfloor+ 1},\cdots,t^i_m\}$ in $s_i$. 

    \item To do clustering on the seismograms $s_1,\,s_2,\cdots,s_n$ for an event, it is best to only have one affinity matrix $A$ for the seismograms. You tweak the metric used to compute affinity between $s_i$ and $s_j$, not compute more affinity matrices. 

    \item Find the affinity between $s_i$ and $s_j$ by first separating them into groups $\{t^i_1,\cdots,t^i_{60}\},\{t^i_{61},\cdots,t^i_{120}\},\ldots,\{t^i_{60\lfloor\frac{m}{60}\rfloor+ 1},\cdots,t^i_m\}$ in $s_i$ and $\{t^j_1,\cdots,t^j_{60}\},\{t^j_{61},\cdots,t^j_{120}\},\ldots,\{t^j_{60\lfloor\frac{m}{60}\rfloor+ 1},\cdots,t^j_m\}$ respectively. To find the affinity, try finding the covariance between signals for the groups chosen. 

    \item Now find the local affinity matrix $B$ between these groups for $s_i$ and $s_j$. Choose the two portions $s_i^c$ and $s_j^c$ in $s_i$ and $s_j$ giving the highest affinity, and let $A(i,j) = \max(B)$. Remember to save where $s_i^c$ and $s_j^c$ start and end for each $s_i$ and $s_j$ pair. 

    \item Perform clustering using $A$. Try $k$-means first, then Spectral Clustering.
\end{enumerate}

Possible tweaks
\begin{itemize}
    \item Make the intervals a bit smaller, $<60$ seconds. Need to experiment with this a bit.
    \item Replace (4) above with doing clustering on matrix $B$. Find the cluster in $s_i$ and $s_j$ that has the highest affinity, and set that to be $A_{ij}$. So, double clustering. 
    \item In (3), instead of covariance, other possible metrics are correlation. Other metrics are here: \url{http://docs.scipy.org/doc/scipy/reference/spatial.distance.html}
\end{itemize}